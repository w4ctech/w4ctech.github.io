(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{301:function(t,e,a){"use strict";a.r(e);var s=a(17),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"现象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现象","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("现象")])]),t._v(" "),a("ul",[a("li",[t._v("使用"),a("code",[t._v("Dio")]),t._v("库在访问api的时候返回"),a("code",[t._v("451")]),t._v("状态码")])]),t._v(" "),a("blockquote",[a("p",[t._v("451状态码在计算机网上领域中，HTTP 451 因法律原因不可用（英语：HTTP 451 Unavailable For Legal Reasons）是一种HTTP协议的错误状态代码，当用户请求访问某个经政府审核等查核方法后认定不合法的来源时，就会显示这个错误代码。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.w4ctech.cn/usr/uploads/2019/02/2696732492.jpg",alt:"451.jpg"}})]),t._v(" "),a("h3",{attrs:{id:"解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("strong",[t._v("解决方法")])]),t._v(" "),a("p",[t._v("封装一个请求头并引入。\n找到"),a("code",[t._v("Request Headers")]),t._v(" "),a("img",{attrs:{src:"https://i.w4ctech.cn/usr/uploads/2019/02/40015677.png",alt:"newall.png"}}),t._v("。\n并将"),a("code",[t._v("Request Headers")]),t._v("里的所有内容复制粘贴进新建立的"),a("code",[t._v("httpHeaders.dart")]),t._v("文件里，"),a("img",{attrs:{src:"https://i.w4ctech.cn/usr/uploads/2019/02/1296327705.png",alt:"httpHeaders.png"}}),t._v("。")]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("home_page.dart")]),t._v("中引入"),a("code",[t._v("httpHeaders.dart")]),t._v("文件。\n在"),a("code",[t._v("getHttp()")]),t._v("方法里添加"),a("code",[t._v("dio.options.headers= httpHeaders;")]),t._v(" "),a("img",{attrs:{src:"https://i.w4ctech.cn/usr/uploads/2019/02/1051544378.png",alt:"succese.png"}})]),t._v(" "),a("p",[t._v("目测可以通过封装请求的方法可以通用。")]),t._v(" "),a("p",[t._v("相关链接："),a("a",{attrs:{href:"https://juejin.im/post/5b04c954f265da0b9c10fb61#heading-25",title:"Dio库中的Cookie管理",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dio库中的Cookie管理"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);